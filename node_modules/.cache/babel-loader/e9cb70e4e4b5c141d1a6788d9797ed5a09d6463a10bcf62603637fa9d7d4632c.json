{"ast":null,"code":"let elementsWithText = [];\nlet images = [];\nlet links = [];\nlet params = {};\nlet currentHighlight = null;\nconst paramregex = /\\{\\{[^(\\{\\})]+\\}\\}/g;\nlet fill = null;\nfunction UploadHTML() {\n  var file = document.getElementById(\"files\").files[0];\n  if (file) {\n    var reader = new FileReader();\n    reader.readAsText(file, \"UTF-8\");\n    reader.onload = function (evt) {\n      document.getElementById(\"renderer\").innerHTML = evt.target.result;\n\n      // Get all elements in the document\n      SetUpEditor();\n    };\n    reader.onerror = function (evt) {\n      document.getElementById(\"renderer\").innerHTML = \"error reading file\";\n      console.log(evt);\n    };\n  }\n}\n_c = UploadHTML;\nfunction LoadHTML(event) {\n  var file = event.target.files[0];\n  if (file) {\n    var reader = new FileReader();\n    reader.readAsText(file, \"UTF-8\");\n    reader.onload = function (evt) {\n      document.getElementById(\"renderer\").innerHTML = evt.target.result;\n\n      // Get all elements in the document\n      SetUpEditor();\n    };\n    reader.onerror = function (evt) {\n      document.getElementById(\"renderer\").innerHTML = \"error reading file\";\n      console.log(evt);\n    };\n  }\n}\n_c2 = LoadHTML;\nfunction SetUpEditor() {\n  const allElements = document.getElementById(\"renderer\").querySelectorAll('*');\n  elementsWithText.length = 0;\n  images.length = 0;\n  links.length = 0;\n  allElements.forEach(element => {\n    // Check if the element has only text nodes (no nested HTML tags)\n    const hasText = Array.from(element.childNodes).some(node => node.nodeType === Node.TEXT_NODE);\n    if (hasText && element.textContent.trim() !== '') {\n      elementsWithText.push(element);\n    }\n  });\n  elementsWithText.forEach(lmnt => {\n    lmnt.contentEditable = true;\n    lmnt.addEventListener(\"input\", function (event) {\n      DetectParams(event.target, event.target.textContent);\n    }, false);\n  });\n  links = document.getElementById(\"renderer\").querySelectorAll(\"a\");\n  links.forEach(lmnt => {\n    if (lmnt.textContent.trim() == '') {\n      lmnt.onclick = e => {\n        e.preventDefault();\n      };\n    }\n    lmnt.ondblclick = e => {\n      e.preventDefault();\n      const newlink = window.prompt(\"Set This Hyperlink\", e.target.closest(\"a\").getAttribute(\"href\"));\n      if (newlink !== null) {\n        e.target.closest(\"a\").href = newlink;\n        DetectParams(e.target.closest(\"a\"), newlink);\n      }\n    };\n  });\n  images = document.getElementById(\"renderer\").querySelectorAll(\"img\");\n  images.forEach(lmnt => {\n    lmnt.onclick = e => {\n      if (window.event.ctrlKey) {\n        e.preventDefault();\n        newsrc = window.prompt(\"Set This Image Source\", e.target.closest(\"img\").getAttribute(\"src\"));\n        if (newsrc !== null && newsrc !== 'none') {\n          e.target.closest(\"img\").src = newsrc;\n          DetectParams(e.target.closest(\"img\"), newsrc);\n        }\n      }\n    };\n  });\n  DetectParamsGlobal();\n}\n_c3 = SetUpEditor;\nfunction MakeHTMLTemplate() {\n  if (currentHighlight !== null) ToggleHighlight(currentHighlight);\n  elementsWithText.forEach(lmnt => {\n    lmnt.removeAttribute(\"contenteditable\");\n  });\n  links.forEach(lmnt => {\n    lmnt.ondblclick = null;\n    lmnt.onclick = null;\n  });\n  images.forEach(img => {\n    img.onclick = null;\n  });\n  var fileName = \"myfile.html\";\n  var fileContent = \"<!DOCTYPE html><html>\" + document.getElementById(\"renderer\").innerHTML + \"</html>\";\n  var myFile = new Blob([fileContent], {\n    type: 'text/plain'\n  });\n  window.URL = window.URL || window.webkitURL;\n  var dlBtn = document.getElementById(\"dlhtml\");\n  dlBtn.setAttribute(\"href\", window.URL.createObjectURL(myFile));\n  dlBtn.setAttribute(\"download\", fileName);\n  SetUpEditor();\n}\n_c4 = MakeHTMLTemplate;\nfunction ParseCSV() {\n  var file = document.getElementById(\"csv\").files[0];\n  if (file) {\n    var reader = new FileReader();\n    reader.readAsText(file, \"UTF-8\");\n    reader.onload = function (evt) {\n      let fill = Papa.parse(evt.target.result, {\n        header: true\n      }).data;\n      console.log(fill);\n      MakeHTMLTemplate();\n      var zip = new JSZip();\n      fill.forEach(obj => {\n        if (obj.saveas === \"\") return;\n        const template = Handlebars.compile(\"<!DOCTYPE html><html>\" + document.getElementById(\"renderer\").innerHTML + \"</html>\");\n        const txt = template(obj);\n        uploadFile(obj.saveas, txt);\n        zip.file(obj.saveas + \".html\", txt);\n      });\n      SetUpEditor();\n      zip.generateAsync({\n        type: \"base64\"\n      }).then(function (content) {\n        window.location.href = \"data:application/zip;base64,\" + content;\n      });\n    };\n  }\n}\n_c5 = ParseCSV;\nfunction MakeCSVTemplate() {\n  var text = \"saveas,uploadurl,\" + Object.keys(params).join(\",\");\n  var fileName = \"CSVTemplate.csv\";\n  var myFile = new Blob([text], {\n    type: 'text/plain'\n  });\n  window.URL = window.URL || window.webkitURL;\n  var dlBtn = document.getElementById(\"dlcsv\");\n  dlBtn.setAttribute(\"href\", window.URL.createObjectURL(myFile));\n  dlBtn.setAttribute(\"download\", fileName);\n  dlBtn.click();\n}\n_c6 = MakeCSVTemplate;\nfunction DetectParams(element, value) {\n  Object.keys(params).forEach(k => {\n    lst = params[k];\n    index = lst.indexOf(element);\n    if (index > -1) lst.splice(index);\n    if (lst.length == 0) {\n      delete params[k];\n    }\n  });\n  console.log(value);\n  foundparams = [...value.matchAll(paramregex)];\n  foundparams.forEach(prm => {\n    prm = '' + prm + '';\n    prm = prm.substring(2, prm.length - 2);\n    if (params[prm] == null) {\n      params[prm] = [];\n    }\n    params[prm].push(element);\n  });\n  ReloadParamsDisplay();\n}\n_c7 = DetectParams;\nfunction DetectParamsGlobal() {\n  params = {};\n  let lists = [{\n    \"list\": elementsWithText,\n    \"attr\": \"textContent\"\n  }, {\n    \"list\": links,\n    \"attr\": \"href\"\n  }, {\n    \"list\": images,\n    \"attr\": \"src\"\n  }];\n  lists.forEach(listattr => {\n    listattr.list.forEach(lmnt => {\n      console.log(listattr.attr);\n      content = lmnt.getAttribute(listattr.attr);\n      if (content === null) {\n        content = lmnt[listattr.attr];\n      }\n      foundparams = [...content.matchAll(paramregex)];\n      foundparams.forEach(prm => {\n        prm = '' + prm + '';\n        prm = prm.substring(2, prm.length - 2);\n        if (params[prm] == null) {\n          params[prm] = [];\n        }\n        params[prm].push(lmnt);\n      });\n    });\n  });\n  ReloadParamsDisplay();\n}\n_c8 = DetectParamsGlobal;\nfunction RenameParam(oldname, newname) {\n  if (currentHighlight === oldname) {\n    currentHighlight = newname;\n  }\n  if (params[oldname] == null) return;\n  if (newname == null || newname.trim() == \"\") return;\n  params[oldname].forEach(element => {\n    children = element.childNodes;\n    const attributes = element.attributes;\n    console.log(attributes);\n    for (let i = 0; i < attributes.length; ++i) {\n      const attr = attributes[i];\n      console.log(attr);\n      element.setAttribute(attr.name, element.getAttribute(attr.name).replaceAll(`{{${oldname}}}`, `{{${newname}}}`));\n    }\n    // element.textContent = element.textContent.replaceAll()\n    // console.log(children)\n    element.textContent = element.textContent.replaceAll(`{{${oldname}}}`, `{{${newname}}}`);\n    // element.childNodes = inner\n  });\n  if (params[newname] == null) {\n    params[newname] = params[oldname];\n  } else {\n    params[newname].concat(params[oldname]);\n  }\n  delete params[oldname];\n  ReloadParamsDisplay();\n}\n_c9 = RenameParam;\nfunction ReloadParamsDisplay() {\n  console.log(params);\n  document.getElementById(\"paramslist\").innerHTML = Object.keys(params).map(p => {\n    return `\n        <div>\n            <div>${p}<br></div>\n            <button onclick=\"RenameParam('${p}', window.prompt('Rename Parameter', '${p}'))\">Rename</button>\n            <button onclick=\"ToggleHighlight('${p}')\">Toggle Highlight</button> \n            <br>\n        </div>`;\n  }).join(\"\");\n}\n_c10 = ReloadParamsDisplay;\nfunction ParameterizeLinks() {\n  let links = document.getElementById(\"renderer\").getElementsByTagName('a');\n  let links_grouped = {};\n  links.forEach(lmnt => {\n    if (!links_grouped.hasOwnProperty(lmnt.href)) {\n      links_grouped[lmnt.href] = [];\n    }\n    links_grouped.push(lmnt);\n  });\n  let form = document.getElementById(\"linksform\");\n  inputs = Object.keys(links).map(url => {\n    return `<label>${links[url].length} instances<input type=text placeholder=${url}></label>`;\n  });\n}\n_c11 = ParameterizeLinks;\nfunction FindElementsWithParam(param) {\n  const elementswithparam = [];\n  elementsWithText.forEach(element => {\n    if (element.textContent.includes(`{{${param}}}`)) {\n      elementswithparam.push(element);\n    }\n  });\n  links.forEach(link => {\n    if (link.href == `{{${param}}}`) {\n      elementswithparam.push(link);\n    }\n  });\n  images.forEach(img => {\n    if (img.src == `{{${param}}}`) {\n      elementswithparam.push(img);\n    }\n  });\n}\n_c12 = FindElementsWithParam;\nfunction ToggleHighlight(p) {\n  console.log(params);\n  if (currentHighlight !== null) {\n    params[currentHighlight].forEach(lmnt => {\n      lmnt.style.outline = null;\n    });\n  }\n  if (currentHighlight !== p) {\n    params[p].forEach(lmnt => {\n      lmnt.style.outline = \"solid red\";\n    });\n    currentHighlight = p;\n  } else currentHighlight = null;\n}\n_c13 = ToggleHighlight;\nasync function uploadFile(filename, filecontent) {\n  const {\n    createClient\n  } = supabase;\n  const supabaseUrl = window.env.SBURL;\n  const supabaseKey = window.env.SBKEY;\n  const sb = supabase.createClient(supabaseUrl, supabaseKey);\n  try {\n    // Step 2: Upload to Supabase storage bucket\n    const {\n      data,\n      error\n    } = await sb.storage.from('static-pages-bucket') // Replace with your bucket name\n    .upload(`uploads/index.html`, \"go fuck yourself\", {\n      upsert: true,\n      contentType: file.mimetype\n    });\n    if (error) {\n      console.error('Error uploading file to Supabase:', error.message);\n      return res.status(500).send('Failed to upload file to Supabase.');\n    }\n\n    // Step 3: Clean up the local file using fs.promises\n    try {\n      await fs.unlink(file.path); // Correctly using fs.promises.unlink\n    } catch (unlinkError) {\n      console.error('Error deleting the file from local storage:', unlinkError);\n      // Continue without returning an error, since this is non-critical\n    }\n    res.send('File uploaded successfully!');\n  } catch (err) {\n    console.error('Unexpected error occurred:', err);\n    res.status(500).send('An unexpected error occurred.');\n  }\n}\nexport { LoadHTML, ParseCSV, MakeHTMLTemplate };\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13;\n$RefreshReg$(_c, \"UploadHTML\");\n$RefreshReg$(_c2, \"LoadHTML\");\n$RefreshReg$(_c3, \"SetUpEditor\");\n$RefreshReg$(_c4, \"MakeHTMLTemplate\");\n$RefreshReg$(_c5, \"ParseCSV\");\n$RefreshReg$(_c6, \"MakeCSVTemplate\");\n$RefreshReg$(_c7, \"DetectParams\");\n$RefreshReg$(_c8, \"DetectParamsGlobal\");\n$RefreshReg$(_c9, \"RenameParam\");\n$RefreshReg$(_c10, \"ReloadParamsDisplay\");\n$RefreshReg$(_c11, \"ParameterizeLinks\");\n$RefreshReg$(_c12, \"FindElementsWithParam\");\n$RefreshReg$(_c13, \"ToggleHighlight\");","map":{"version":3,"names":["elementsWithText","images","links","params","currentHighlight","paramregex","fill","UploadHTML","file","document","getElementById","files","reader","FileReader","readAsText","onload","evt","innerHTML","target","result","SetUpEditor","onerror","console","log","_c","LoadHTML","event","_c2","allElements","querySelectorAll","length","forEach","element","hasText","Array","from","childNodes","some","node","nodeType","Node","TEXT_NODE","textContent","trim","push","lmnt","contentEditable","addEventListener","DetectParams","onclick","e","preventDefault","ondblclick","newlink","window","prompt","closest","getAttribute","href","ctrlKey","newsrc","src","DetectParamsGlobal","_c3","MakeHTMLTemplate","ToggleHighlight","removeAttribute","img","fileName","fileContent","myFile","Blob","type","URL","webkitURL","dlBtn","setAttribute","createObjectURL","_c4","ParseCSV","Papa","parse","header","data","zip","JSZip","obj","saveas","template","Handlebars","compile","txt","uploadFile","generateAsync","then","content","location","_c5","MakeCSVTemplate","text","Object","keys","join","click","_c6","value","k","lst","index","indexOf","splice","foundparams","matchAll","prm","substring","ReloadParamsDisplay","_c7","lists","listattr","list","attr","_c8","RenameParam","oldname","newname","children","attributes","i","name","replaceAll","concat","_c9","map","p","_c10","ParameterizeLinks","getElementsByTagName","links_grouped","hasOwnProperty","form","inputs","url","_c11","FindElementsWithParam","param","elementswithparam","includes","link","_c12","style","outline","_c13","filename","filecontent","createClient","supabase","supabaseUrl","env","SBURL","supabaseKey","SBKEY","sb","error","storage","upload","upsert","contentType","mimetype","message","res","status","send","fs","unlink","path","unlinkError","err","$RefreshReg$"],"sources":["/home/kaushik/Documents/Projects/template-filler/src/TemplateHandler.js"],"sourcesContent":["let elementsWithText = []\nlet images = []\nlet links = []\nlet params = {}\nlet currentHighlight = null\nconst paramregex = /\\{\\{[^(\\{\\})]+\\}\\}/g\nlet fill = null;\n\nfunction UploadHTML(){\n    var file = document.getElementById(\"files\").files[0];\n    \n    if (file) {\n        var reader = new FileReader();\n        reader.readAsText(file, \"UTF-8\");\n        reader.onload = function (evt) {\n            document.getElementById(\"renderer\").innerHTML = evt.target.result;\n\n            // Get all elements in the document\n            SetUpEditor()\n        }\n        reader.onerror = function (evt) {\n            document.getElementById(\"renderer\").innerHTML = \"error reading file\";\n            console.log(evt)\n        }\n    }\n}\n\nfunction LoadHTML(event){\n    var file = event.target.files[0]\n    if (file) {\n        var reader = new FileReader();\n        reader.readAsText(file, \"UTF-8\");\n        reader.onload = function (evt) {\n            document.getElementById(\"renderer\").innerHTML = evt.target.result;\n\n            // Get all elements in the document\n            SetUpEditor()\n        }\n        reader.onerror = function (evt) {\n            document.getElementById(\"renderer\").innerHTML = \"error reading file\";\n            console.log(evt)\n        }\n    }\n}\n\nfunction SetUpEditor(){\n    const allElements = document.getElementById(\"renderer\").querySelectorAll('*');\n\n    elementsWithText.length = 0;\n    images.length = 0;\n    links.length = 0;\n\n    allElements.forEach(element => {\n        // Check if the element has only text nodes (no nested HTML tags)\n        const hasText = Array.from(element.childNodes).some(\n            node => node.nodeType === Node.TEXT_NODE\n        );\n        \n        if (hasText && element.textContent.trim() !== '') {\n        elementsWithText.push(element);\n        }\n    });\n\n    elementsWithText.forEach(lmnt => {\n        lmnt.contentEditable = true;\n        lmnt.addEventListener(\"input\", function(event) {\n            DetectParams(event.target, event.target.textContent)\n        }, false);\n    });\n\n    links = document.getElementById(\"renderer\").querySelectorAll(\"a\")\n    links.forEach(lmnt => {\n        if(lmnt.textContent.trim() == ''){\n            lmnt.onclick = (e)=>{\n                e.preventDefault();\n            }\n        }\n        lmnt.ondblclick = (e)=>{\n            e.preventDefault();\n            const newlink = window.prompt(\"Set This Hyperlink\", e.target.closest(\"a\").getAttribute(\"href\"))\n            if (newlink !== null){\n                e.target.closest(\"a\").href = newlink\n                DetectParams(e.target.closest(\"a\"), newlink)\n            }\n        }\n    })\n\n    images = document.getElementById(\"renderer\").querySelectorAll(\"img\")\n    images.forEach(lmnt => {\n        lmnt.onclick = e =>{\n            if(window.event.ctrlKey){\n                e.preventDefault();\n                newsrc = window.prompt(\"Set This Image Source\", e.target.closest(\"img\").getAttribute(\"src\"));\n                if (newsrc !== null && newsrc !== 'none'){\n                    e.target.closest(\"img\").src = newsrc;\n                    DetectParams(e.target.closest(\"img\"), newsrc)\n                }\n            }\n        }\n    })\n    DetectParamsGlobal()\n}\n\nfunction MakeHTMLTemplate(){\n    if(currentHighlight !== null) ToggleHighlight(currentHighlight)\n    elementsWithText.forEach(lmnt => {\n        lmnt.removeAttribute(\"contenteditable\");\n    })\n    links.forEach(lmnt =>{\n        lmnt.ondblclick = null\n        lmnt.onclick = null;\n    })\n    images.forEach(img=>{\n        img.onclick = null;\n    })\n    var fileName = \"myfile.html\";\n    var fileContent = \"<!DOCTYPE html><html>\" + document.getElementById(\"renderer\").innerHTML+\"</html>\";\n    var myFile = new Blob([fileContent], {type: 'text/plain'});\n    \n    window.URL = window.URL || window.webkitURL;\n\n\n    var dlBtn = document.getElementById(\"dlhtml\");\n    \n    dlBtn.setAttribute(\"href\", window.URL.createObjectURL(myFile));\n    dlBtn.setAttribute(\"download\", fileName);\n    SetUpEditor()\n}\n\n\nfunction ParseCSV() {\n    var file = document.getElementById(\"csv\").files[0];\n    if (file) {\n        var reader = new FileReader();\n        reader.readAsText(file, \"UTF-8\");\n        reader.onload = function (evt) {\n            let fill = Papa.parse(evt.target.result, {header: true}).data\n            console.log(fill)\n            MakeHTMLTemplate()\n            var zip = new JSZip();\n            fill.forEach(obj=>{\n                if(obj.saveas === \"\") return;\n                \n                const template = Handlebars.compile(\"<!DOCTYPE html><html>\" + document.getElementById(\"renderer\").innerHTML + \"</html>\")\n                const txt = template(obj)\n                \n                uploadFile(obj.saveas, txt)\n\n                zip.file(obj.saveas+\".html\", txt)\n            })\n            SetUpEditor();\n            zip.generateAsync({\n                type: \"base64\"\n            }).then(function(content) {\n                window.location.href = \"data:application/zip;base64,\" + content;\n            });  \n        }\n    }\n}\n\nfunction MakeCSVTemplate(){\n    var text = \"saveas,uploadurl,\"+Object.keys(params).join(\",\")\n    var fileName = \"CSVTemplate.csv\"\n    var myFile = new Blob([text], {type:'text/plain'})\n    window.URL = window.URL || window.webkitURL;\n    var dlBtn = document.getElementById(\"dlcsv\")\n    dlBtn.setAttribute(\"href\", window.URL.createObjectURL(myFile));\n    dlBtn.setAttribute(\"download\", fileName);\n    dlBtn.click()\n}\n\nfunction DetectParams(element, value){\n    Object.keys(params).forEach(k =>{\n        lst = params[k]\n        index = lst.indexOf(element)\n        if(index > -1) lst.splice(index)\n        if(lst.length == 0){\n            delete params[k]\n        }\n    })\n    console.log(value)\n\n    foundparams = [...value.matchAll(paramregex)]\n    foundparams.forEach(prm =>{\n        prm = ''+prm+''\n        prm = prm.substring(2, prm.length - 2)\n        if (params[prm] == null){\n            params[prm] = []\n        }\n        params[prm].push(element)\n    })\n    ReloadParamsDisplay()\n}\n\nfunction DetectParamsGlobal(){\n\n    params = {}\n    let lists = [{\"list\": elementsWithText, \"attr\":\"textContent\"}, {\"list\":links, \"attr\":\"href\"}, {\"list\":images, \"attr\":\"src\"}]\n    lists.forEach(listattr =>{\n        listattr.list.forEach(lmnt =>{\n            console.log(listattr.attr)\n            content = lmnt.getAttribute(listattr.attr)\n            if (content === null){\n                content = lmnt[listattr.attr]                            \n            }\n            foundparams = [...content.matchAll(paramregex)]\n            foundparams.forEach(prm =>{\n                prm = ''+prm+''\n                prm = prm.substring(2, prm.length - 2)\n                if (params[prm] == null){\n                    params[prm] = []\n                }\n                params[prm].push(lmnt)\n            })\n        })\n    })\n    ReloadParamsDisplay()\n}\n\nfunction RenameParam(oldname, newname){\n    if(currentHighlight === oldname){\n        currentHighlight = newname\n    }\n    if(params[oldname] == null) return;\n    if(newname == null || newname.trim() == \"\") return;\n    \n    params[oldname].forEach(element =>{\n        children = element.childNodes;\n        const attributes = element.attributes\n        console.log(attributes)\n        for(let i = 0; i < attributes.length; ++i){\n            const attr = attributes[i];\n            console.log(attr)\n            element.setAttribute(attr.name, element.getAttribute(attr.name).replaceAll(`{{${oldname}}}`, `{{${newname}}}`))\n        }\n        // element.textContent = element.textContent.replaceAll()\n        // console.log(children)\n        element.textContent = element.textContent.replaceAll(`{{${oldname}}}`, `{{${newname}}}`)\n        // element.childNodes = inner\n    })\n    if (params[newname] == null) {    \n        params[newname] = params[oldname]\n    }\n    else{\n        params[newname].concat(params[oldname]);\n    }\n    delete params[oldname]\n    ReloadParamsDisplay();\n}\n\nfunction ReloadParamsDisplay(){\n    console.log(params)\n    document.getElementById(\"paramslist\").innerHTML = Object.keys(params).map(p =>{\n        return `\n        <div>\n            <div>${p}<br></div>\n            <button onclick=\"RenameParam('${p}', window.prompt('Rename Parameter', '${p}'))\">Rename</button>\n            <button onclick=\"ToggleHighlight('${p}')\">Toggle Highlight</button> \n            <br>\n        </div>`\n    }).join(\"\");\n}\n\nfunction ParameterizeLinks(){\n    let links = document.getElementById(\"renderer\").getElementsByTagName('a')\n    let links_grouped = {}\n    links.forEach(lmnt=>{\n        if(!links_grouped.hasOwnProperty(lmnt.href)){\n            links_grouped[lmnt.href] = [];\n        }\n        links_grouped.push(lmnt);\n    })\n    let form = document.getElementById(\"linksform\");\n    inputs = Object.keys(links).map(url=>{\n        return `<label>${links[url].length} instances<input type=text placeholder=${url}></label>`\n    });\n\n}\n\nfunction FindElementsWithParam(param){\n    const elementswithparam = []\n    elementsWithText.forEach(element => {\n        if(element.textContent.includes(`{{${param}}}`)){\n            elementswithparam.push(element)\n        }\n    });\n    links.forEach(link=>{\n        if(link.href == `{{${param}}}`){\n            elementswithparam.push(link)\n        }\n    })\n    images.forEach(img=>{\n        if(img.src == `{{${param}}}`){\n            elementswithparam.push(img)\n        }\n    })\n} \n\nfunction ToggleHighlight(p){\n    console.log(params)\n    if(currentHighlight !== null){\n        params[currentHighlight].forEach(lmnt=>{\n            lmnt.style.outline = null;\n        })\n    }\n    if(currentHighlight !== p){\n        params[p].forEach(lmnt=>{\n            lmnt.style.outline = \"solid red\";\n        })\n        currentHighlight = p;\n    }\n    else currentHighlight = null;\n}\n\n\nasync function uploadFile(filename, filecontent) {\n    const { createClient } = supabase\n\n    const supabaseUrl = window.env.SBURL; \n    const supabaseKey = window.env.SBKEY;\n    const sb = supabase.createClient(supabaseUrl, supabaseKey);\n    try {\n        // Step 2: Upload to Supabase storage bucket\n        const { data, error } = await sb.storage\n            .from('static-pages-bucket') // Replace with your bucket name\n            .upload(`uploads/index.html`, \"go fuck yourself\", {\n                upsert: true,\n                contentType: file.mimetype\n            });\n\n        if (error) {\n            console.error('Error uploading file to Supabase:', error.message);\n            return res.status(500).send('Failed to upload file to Supabase.');\n        }\n\n        // Step 3: Clean up the local file using fs.promises\n        try {\n            await fs.unlink(file.path); // Correctly using fs.promises.unlink\n        } catch (unlinkError) {\n            console.error('Error deleting the file from local storage:', unlinkError);\n            // Continue without returning an error, since this is non-critical\n        }\n\n        res.send('File uploaded successfully!');\n    } catch (err) {\n        console.error('Unexpected error occurred:', err);\n        res.status(500).send('An unexpected error occurred.');\n    }\n}\n\nexport {LoadHTML, ParseCSV, MakeHTMLTemplate};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}