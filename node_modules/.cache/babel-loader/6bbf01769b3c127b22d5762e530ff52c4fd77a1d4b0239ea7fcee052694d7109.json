{"ast":null,"code":"var _jsxFileName = \"/home/kaushik/Documents/Projects/template-filler/src/App.js\",\n  _s = $RefreshSig$();\nimport logo from './logo.svg';\nimport './App.css';\nimport { useState, useEffect, useRef } from 'react';\nimport ParamList from \"./components/ParamList\";\nimport Papa from 'papaparse';\nimport JSZip from 'jszip';\nimport Handlebars from 'handlebars';\nimport { createClient } from '@supabase/supabase-js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  let links = [];\n  let images = [];\n  let textElements = [];\n  let editableElements = {\n    \"text\": textElements,\n    \"img\": images,\n    \"link\": links\n  };\n  const editableRef = useRef(editableElements);\n  const [params, SetParams] = useState({});\n  const paramsRef = useRef(params);\n  const [htmlContent, SetHTML] = useState(\"\");\n  const paramregex = /{{[^({})]+}}/g;\n  let currentHighlight = null;\n  useEffect(() => {\n    SetUpEditor();\n  }, [htmlContent]);\n  useEffect(() => {\n    paramsRef.current = params;\n    console.log(params);\n  }, [params]);\n  useEffect(() => {\n    editableRef.current = editableElements;\n  }, []);\n  const UpdateParams = () => {\n    let newparams = {};\n    Object.keys(params).forEach(key => {\n      console.log(`${key}:${params[key]}`);\n      newparams[key] = [...params[key]];\n    });\n    SetParams(newparams);\n  };\n  const LoadHTML = event => {\n    SetParams({});\n    SetHTML(\"\");\n    var file = event.target.files[0];\n    if (file) {\n      var reader = new FileReader();\n      reader.readAsText(file, \"UTF-8\");\n      reader.onload = function (evt) {\n        SetHTML(evt.target.result);\n      };\n      reader.onerror = function (evt) {\n        document.getElementById(\"renderer\").innerHTML = \"error reading file\";\n        console.log(evt);\n      };\n    }\n  };\n  const SetUpEditor = () => {\n    const allElements = document.getElementById(\"renderer\").querySelectorAll('*');\n    // console.log(document.getElementById(\"renderer\").innerHTML)\n    // console.log(allElements)\n    textElements.length = 0;\n    // images.length = 0;\n    // links.length = 0;\n\n    allElements.forEach(element => {\n      // Check if the element has only text nodes (no nested HTML tags)\n      const hasText = Array.from(element.childNodes).some(node => node.nodeType === Node.TEXT_NODE);\n      if (hasText && element.textContent.trim() !== '') {\n        element.contentEditable = true;\n        textElements.push(element);\n        // console.log(element)\n      }\n      element.contentEditable = true;\n      element.addEventListener(\"input\", event => {\n        DetectParams(event.target, event.target.textContent);\n      }, false);\n    });\n    links = document.getElementById(\"renderer\").querySelectorAll(\"a\");\n    links.forEach(lmnt => {\n      console.log(\"fuckin hell\");\n      if (lmnt.textContent.trim() === '') {\n        lmnt.addEventListener(\"click\", event => {\n          event.preventDefault();\n          console.log(\"clicked link\");\n        });\n      }\n      lmnt.addEventListener(\"dblclick\", e => {\n        e.preventDefault();\n        console.log(paramsRef);\n        const newlink = window.prompt(\"Set This Hyperlink\", e.target.closest(\"a\").getAttribute(\"href\"));\n        if (newlink !== null) {\n          e.target.closest(\"a\").setAttribute(\"href\", newlink);\n          DetectParams(e.target.closest(\"a\"), newlink);\n        }\n      });\n    });\n    images = document.getElementById(\"renderer\").querySelectorAll(\"img\");\n    images.forEach(lmnt => {\n      lmnt.addEventListener(\"click\", e => {\n        if (e.ctrlKey) {\n          e.preventDefault();\n          const newsrc = window.prompt(\"Set This Image Source\", e.target.closest(\"img\").getAttribute(\"src\"));\n          if (newsrc !== null && newsrc !== 'none') {\n            e.target.closest(\"img\").src = newsrc;\n            DetectParams(e.target.closest(\"img\"), newsrc);\n          }\n        }\n      });\n    });\n    editableElements.text = textElements;\n    editableElements.img = images;\n    editableElements.link = links;\n    DetectParamsGlobal();\n  };\n  function DetectParams(element, value) {\n    let asdf = {};\n    Object.keys(paramsRef.current).forEach(param => {\n      asdf[param] = paramsRef.current[param];\n      const list = asdf[param];\n      const index = list.indexOf(element);\n      console.log(list);\n      if (index > -1) list.splice(index, 1);\n      if (list.length == 0) delete asdf[param];\n    });\n    let foundparams = [...value.matchAll(paramregex)];\n    foundparams.forEach(prm => {\n      prm = '' + prm + '';\n      prm = prm.substring(2, prm.length - 2);\n      if (asdf[prm] == null) {\n        asdf[prm] = [];\n      }\n      asdf[prm].push(element);\n    });\n    SetParams(asdf);\n  }\n  function DetectParamsGlobal() {\n    let newparams = {};\n    let lists = [{\n      \"list\": textElements,\n      \"attr\": \"textContent\"\n    }, {\n      \"list\": links,\n      \"attr\": \"href\"\n    }, {\n      \"list\": images,\n      \"attr\": \"src\"\n    }];\n    lists.forEach(listattr => {\n      listattr.list.forEach(lmnt => {\n        let content = lmnt.getAttribute(listattr.attr);\n        if (content === null) {\n          content = lmnt[listattr.attr];\n        }\n        const foundparams = [...content.matchAll(paramregex)];\n        foundparams.forEach(prm => {\n          prm = '' + prm + '';\n          prm = prm.substring(2, prm.length - 2);\n          if (newparams[prm] == null) {\n            newparams[prm] = [];\n          }\n          newparams[prm].push(lmnt);\n        });\n      });\n    });\n    SetParams(newparams);\n    console.log(params);\n  }\n  function RenameParam(oldname, newname) {\n    if (params[oldname] == null) return;\n    if (newname == null || newname.trim() == \"\") return;\n    params[oldname].forEach(element => {\n      const attributes = element.attributes;\n      for (let i = 0; i < attributes.length; ++i) {\n        console.log(attributes[i]);\n        const attr = attributes[i];\n        element.setAttribute(attr.name, element.getAttribute(attr.name).replaceAll(`{{${oldname}}}`, `{{${newname}}}`));\n      }\n      element.childNodes.forEach(node => {\n        if (node.nodeType === Node.TEXT_NODE) {\n          console.log(node);\n          node.data = node.data.replaceAll(`{{${oldname}}}`, `{{${newname}}}`);\n        }\n      });\n    });\n    if (params[newname] == null) {\n      params[newname] = params[oldname];\n    } else {\n      params[newname].concat(params[oldname]);\n    }\n    delete params[oldname];\n    UpdateParams();\n  }\n  const HighlightParam = p => {\n    console.log(currentHighlight);\n    if (currentHighlight !== null) {\n      params[currentHighlight].forEach(lmnt => {\n        lmnt.style.outline = null;\n      });\n    }\n    if (currentHighlight !== p) {\n      params[p].forEach(lmnt => {\n        lmnt.style.outline = \"solid red\";\n      });\n      currentHighlight = p;\n    } else currentHighlight = null;\n  };\n  const DownloadFiles = () => {\n    var file = document.getElementById(\"csv\").files[0];\n    if (file) {\n      var reader = new FileReader();\n      reader.readAsText(file, \"UTF-8\");\n      reader.onload = function (evt) {\n        let fill = Papa.parse(evt.target.result, {\n          header: true\n        }).data;\n        console.log(fill);\n        var fileContent = MakeHTMLTemplate().filedata;\n        console.log(fileContent);\n        var zip = new JSZip();\n        fill.forEach(obj => {\n          if (obj.saveas === \"\") return;\n          const template = Handlebars.compile(fileContent);\n          const txt = template(obj);\n          zip.file(obj.saveas + \".html\", txt);\n        });\n        SetUpEditor();\n        zip.generateAsync({\n          type: \"base64\"\n        }).then(function (content) {\n          window.location.href = \"data:application/zip;base64,\" + content;\n        });\n      };\n    }\n  };\n  const HostFiles = async e => {\n    //create client\n    console.log(process.env.REACT_APP_SUPABASE_URL);\n    const supabase = createClient(process.env.REACT_APP_SUPABASE_URL, process.env.REACT_APP_SUPABASE_KEY);\n    var file = document.getElementById(\"csv\").files[0];\n    if (file) {\n      var reader = new FileReader();\n      reader.readAsText(file, \"UTF-8\");\n      reader.onload = function (evt) {\n        let fill = Papa.parse(evt.target.result, {\n          header: true\n        }).data;\n        console.log(fill);\n        var templateContent = MakeHTMLTemplate().filedata;\n        var zip = new JSZip();\n        fill.forEach(async obj => {\n          if (obj.saveas === \"\") return;\n          const template = Handlebars.compile(templateContent);\n          const txt = template(obj);\n          //upload file\n          const {\n            data,\n            error\n          } = await supabase.storage.from(process.env.REACT_APP_BUCKET_NAME)\n          //this is done so that if at a later point i want to upload images as well it can be done.\n          .upload(`${obj.saveas}/index.html`, txt);\n          if (error) {\n            console.error('Error uploading file:', error);\n          } else {\n            console.log('File uploaded successfully:', data);\n          }\n        });\n        window.alert(\"done!\");\n        SetUpEditor();\n      };\n    }\n  };\n  const DownloadCSVTemplate = e => {\n    var text = \"saveas,uploadurl,\" + Object.keys(params).join(\",\");\n    var fileName = \"CSVTemplate.csv\";\n    var myFile = new Blob([text], {\n      type: 'text/plain'\n    });\n    window.URL = window.URL || window.webkitURL;\n    var dlBtn = document.getElementById(\"dlcsv\");\n    dlBtn.setAttribute(\"href\", window.URL.createObjectURL(myFile));\n    dlBtn.setAttribute(\"download\", fileName);\n    dlBtn.click();\n  };\n  function MakeHTMLTemplate() {\n    let textElements = editableRef.current.text;\n    let links = editableRef.current.link;\n    let images = editableRef.current.img;\n    console.log(editableRef.current);\n    if (currentHighlight !== null) HighlightParam(currentHighlight);\n    textElements.forEach(lmnt => {\n      lmnt.removeAttribute(\"contenteditable\");\n      console.log(lmnt);\n    });\n    links.forEach(lmnt => {\n      lmnt.ondblclick = null;\n      lmnt.onclick = null;\n    });\n    images.forEach(img => {\n      img.onclick = null;\n    });\n    var fileName = \"myfile.html\";\n    var fileContent = \"<!DOCTYPE html><html>\" + document.getElementById(\"renderer\").innerHTML + \"</html>\";\n    var myFile = new Blob([fileContent], {\n      type: 'text/plain'\n    });\n    window.URL = window.URL || window.webkitURL;\n    SetUpEditor();\n    return {\n      \"file\": myFile,\n      \"filedata\": fileContent\n    };\n  }\n  const DownloadHTMLTemplate = e => {\n    var shit = MakeHTMLTemplate();\n    var myFile = shit.file;\n    console.log(shit.filedata);\n    var dlBtn = document.getElementById(\"dlhtml\");\n    dlBtn.setAttribute(\"href\", window.URL.createObjectURL(myFile));\n    dlBtn.setAttribute(\"download\", \"HTMLTemplate.html\");\n    dlBtn.click();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidenav\",\n      id: \"sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"HTML Upload\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: LoadHTML\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"CSV Upload\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          id: \"csv\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: HostFiles,\n        children: \"Generate and Host\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ParamList, {\n        params: params,\n        Rename: RenameParam,\n        HighlightParam: HighlightParam\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"downloads\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"generate\",\n          onClick: DownloadHTMLTemplate,\n          children: \"Download HTML Template\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          id: \"dlhtml\",\n          style: {\n            \"display\": \"none\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"csvgen\",\n          onClick: DownloadCSVTemplate,\n          children: \"Download CSV Template\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          id: \"dlcsv\",\n          style: {\n            \"display\": \"none\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"renderer\",\n      className: \"main\",\n      dangerouslySetInnerHTML: {\n        __html: htmlContent\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 336,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"kXth1Csd0+u9MV/MEGmdjpdBSBo=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["logo","useState","useEffect","useRef","ParamList","Papa","JSZip","Handlebars","createClient","jsxDEV","_jsxDEV","App","_s","links","images","textElements","editableElements","editableRef","params","SetParams","paramsRef","htmlContent","SetHTML","paramregex","currentHighlight","SetUpEditor","current","console","log","UpdateParams","newparams","Object","keys","forEach","key","LoadHTML","event","file","target","files","reader","FileReader","readAsText","onload","evt","result","onerror","document","getElementById","innerHTML","allElements","querySelectorAll","length","element","hasText","Array","from","childNodes","some","node","nodeType","Node","TEXT_NODE","textContent","trim","contentEditable","push","addEventListener","DetectParams","lmnt","preventDefault","e","newlink","window","prompt","closest","getAttribute","setAttribute","ctrlKey","newsrc","src","text","img","link","DetectParamsGlobal","value","asdf","param","list","index","indexOf","splice","foundparams","matchAll","prm","substring","lists","listattr","content","attr","RenameParam","oldname","newname","attributes","i","name","replaceAll","data","concat","HighlightParam","p","style","outline","DownloadFiles","fill","parse","header","fileContent","MakeHTMLTemplate","filedata","zip","obj","saveas","template","compile","txt","generateAsync","type","then","location","href","HostFiles","process","env","REACT_APP_SUPABASE_URL","supabase","REACT_APP_SUPABASE_KEY","templateContent","error","storage","REACT_APP_BUCKET_NAME","upload","alert","DownloadCSVTemplate","join","fileName","myFile","Blob","URL","webkitURL","dlBtn","createObjectURL","click","removeAttribute","ondblclick","onclick","DownloadHTMLTemplate","shit","className","children","id","onChange","_jsxFileName","lineNumber","columnNumber","onClick","Rename","dangerouslySetInnerHTML","__html","_c","$RefreshReg$"],"sources":["/home/kaushik/Documents/Projects/template-filler/src/App.js"],"sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport { useState, useEffect, useRef } from 'react';\nimport ParamList from \"./components/ParamList\";\nimport Papa from 'papaparse'\nimport JSZip from 'jszip';\nimport Handlebars from 'handlebars';\nimport { createClient } from '@supabase/supabase-js';\n\nfunction App() {\n  let links = [];\n  let images = [];\n  let textElements = [];\n  let  editableElements = {\"text\":textElements, \"img\":images, \"link\":links};\n  const editableRef = useRef(editableElements);\n  const [params, SetParams] = useState({});\n  const paramsRef = useRef(params)\n  const [htmlContent, SetHTML] = useState(\"\");\n  const paramregex = /{{[^({})]+}}/g\n  let currentHighlight = null\n\n  useEffect(() => {\n    SetUpEditor();\n  }, [htmlContent])\n\n  useEffect(() => {\n    paramsRef.current = params\n    console.log(params)\n  }, [params])\n\n  useEffect(()=>{\n    editableRef.current=editableElements\n  }, [])\n\n  const UpdateParams = () => {\n    let newparams = {};\n    Object.keys(params).forEach(key => {\n      console.log(`${key}:${params[key]}`)\n      newparams[key] = [...params[key]];\n    })\n    SetParams(newparams)\n  }\n\n  const LoadHTML = (event) => {\n    SetParams({})\n    SetHTML(\"\")\n    var file = event.target.files[0]\n    if (file) {\n      var reader = new FileReader();\n      reader.readAsText(file, \"UTF-8\");\n      reader.onload = function (evt) {\n        SetHTML(evt.target.result);\n      }\n      reader.onerror = function (evt) {\n        document.getElementById(\"renderer\").innerHTML = \"error reading file\";\n        console.log(evt);\n      }\n    }\n  }\n\n  const SetUpEditor = () => {\n    const allElements = document.getElementById(\"renderer\").querySelectorAll('*');\n    // console.log(document.getElementById(\"renderer\").innerHTML)\n    // console.log(allElements)\n    textElements.length = 0;\n    // images.length = 0;\n    // links.length = 0;\n\n    allElements.forEach(element => {\n      // Check if the element has only text nodes (no nested HTML tags)\n      const hasText = Array.from(element.childNodes).some(\n        node => node.nodeType === Node.TEXT_NODE\n      );\n\n      if (hasText && element.textContent.trim() !== '') {\n        element.contentEditable = true;\n        textElements.push(element);\n        // console.log(element)\n      }\n      element.contentEditable = true;\n      element.addEventListener(\"input\", (event) => {\n        DetectParams(event.target, event.target.textContent)\n      }, false);\n    });\n\n\n    links = document.getElementById(\"renderer\").querySelectorAll(\"a\")\n    links.forEach(lmnt => {\n      console.log(\"fuckin hell\")\n      if (lmnt.textContent.trim() === '') {\n        lmnt.addEventListener(\"click\", (event) => {\n          event.preventDefault();\n          console.log(\"clicked link\")\n        });\n      }\n      lmnt.addEventListener(\"dblclick\", (e) => {\n        e.preventDefault();\n        console.log(paramsRef)\n        const newlink = window.prompt(\"Set This Hyperlink\", e.target.closest(\"a\").getAttribute(\"href\"))\n        if (newlink !== null) {\n          e.target.closest(\"a\").setAttribute(\"href\", newlink)\n          DetectParams(e.target.closest(\"a\"), newlink)\n        }\n      })\n    })\n\n    images = document.getElementById(\"renderer\").querySelectorAll(\"img\");\n    images.forEach(lmnt => {\n      lmnt.addEventListener(\"click\", e => {\n        if (e.ctrlKey) {\n          e.preventDefault();\n          const newsrc = window.prompt(\"Set This Image Source\", e.target.closest(\"img\").getAttribute(\"src\"));\n          if (newsrc !== null && newsrc !== 'none') {\n            e.target.closest(\"img\").src = newsrc;\n            DetectParams(e.target.closest(\"img\"), newsrc)\n          }\n        }\n      })\n    })\n    editableElements.text=textElements;\n    editableElements.img=images;\n    editableElements.link=links;\n    DetectParamsGlobal();\n  }\n\n  function DetectParams(element, value) {\n    let asdf = {};\n\n    Object.keys(paramsRef.current).forEach(param => {\n      asdf[param] = paramsRef.current[param]\n      const list = asdf[param]\n      const index = list.indexOf(element);\n      console.log(list)\n      if (index > -1) list.splice(index, 1)\n      if (list.length == 0) delete asdf[param]\n    })\n    let foundparams = [...value.matchAll(paramregex)]\n    foundparams.forEach(prm => {\n      prm = '' + prm + ''\n      prm = prm.substring(2, prm.length - 2)\n      if (asdf[prm] == null) {\n        asdf[prm] = []\n      }\n      asdf[prm].push(element)\n    })\n    SetParams(asdf)\n  }\n\n  function DetectParamsGlobal() {\n\n    let newparams = {}\n    let lists = [{ \"list\": textElements, \"attr\": \"textContent\" }, { \"list\": links, \"attr\": \"href\" }, { \"list\": images, \"attr\": \"src\" }]\n    lists.forEach(listattr => {\n      listattr.list.forEach(lmnt => {\n        let content = lmnt.getAttribute(listattr.attr)\n        if (content === null) {\n          content = lmnt[listattr.attr]\n        }\n        const foundparams = [...content.matchAll(paramregex)]\n        foundparams.forEach(prm => {\n          prm = '' + prm + ''\n          prm = prm.substring(2, prm.length - 2)\n          if (newparams[prm] == null) {\n            newparams[prm] = []\n          }\n          newparams[prm].push(lmnt)\n        })\n      })\n    })\n    SetParams(newparams)\n    console.log(params)\n  }\n\n  function RenameParam(oldname, newname) {\n    if (params[oldname] == null) return;\n    if (newname == null || newname.trim() == \"\") return;\n\n    params[oldname].forEach(element => {\n      const attributes = element.attributes\n      for (let i = 0; i < attributes.length; ++i) {\n        console.log(attributes[i])\n        const attr = attributes[i];\n        element.setAttribute(attr.name, element.getAttribute(attr.name).replaceAll(`{{${oldname}}}`, `{{${newname}}}`))\n      }\n      element.childNodes.forEach(node => {\n        if (node.nodeType === Node.TEXT_NODE) {\n          console.log(node)\n          node.data = node.data.replaceAll(`{{${oldname}}}`, `{{${newname}}}`)\n        }\n      })\n    })\n    if (params[newname] == null) {\n      params[newname] = params[oldname]\n    }\n    else {\n      params[newname].concat(params[oldname]);\n    }\n    delete params[oldname]\n    UpdateParams()\n  }\n\n\n  const HighlightParam = (p) => {\n    console.log(currentHighlight)\n    if (currentHighlight !== null) {\n      params[currentHighlight].forEach(lmnt => {\n        lmnt.style.outline = null;\n      })\n    }\n    if (currentHighlight !== p) {\n      params[p].forEach(lmnt => {\n        lmnt.style.outline = \"solid red\";\n      })\n      currentHighlight = p;\n    }\n    else currentHighlight = null;\n  }\n\n  const DownloadFiles = () => {\n    var file = document.getElementById(\"csv\").files[0];\n    if (file) {\n      var reader = new FileReader();\n      reader.readAsText(file, \"UTF-8\");\n      reader.onload = function (evt) {\n        let fill = Papa.parse(evt.target.result, { header: true }).data\n        console.log(fill)\n        var fileContent = MakeHTMLTemplate().filedata\n        console.log(fileContent)\n        var zip = new JSZip();\n        fill.forEach(obj => {\n          if (obj.saveas === \"\") return;\n          const template = Handlebars.compile(fileContent)\n          const txt = template(obj)\n          zip.file(obj.saveas + \".html\", txt)\n        })\n        SetUpEditor();\n        zip.generateAsync({\n          type: \"base64\"\n        }).then(function (content) {\n          window.location.href = \"data:application/zip;base64,\" + content;\n        });\n      }\n    }\n  }\n\n  const HostFiles = async (e) => {\n    //create client\n    console.log(process.env.REACT_APP_SUPABASE_URL)\n    const supabase = createClient(process.env.REACT_APP_SUPABASE_URL, process.env.REACT_APP_SUPABASE_KEY);\n    var file = document.getElementById(\"csv\").files[0];\n    if (file) {\n      var reader = new FileReader();\n      reader.readAsText(file, \"UTF-8\");\n      reader.onload = function (evt) {\n        let fill = Papa.parse(evt.target.result, { header: true }).data\n        console.log(fill)\n        var templateContent = MakeHTMLTemplate().filedata\n        var zip = new JSZip();\n        fill.forEach(async obj => {\n          if (obj.saveas === \"\") return;\n          const template = Handlebars.compile(templateContent)\n          const txt = template(obj)\n          //upload file\n          const { data, error } = await supabase.storage\n            .from(process.env.REACT_APP_BUCKET_NAME)\n            //this is done so that if at a later point i want to upload images as well it can be done.\n            .upload(`${obj.saveas}/index.html`, txt);\n\n          if (error) {\n            console.error('Error uploading file:', error);\n          } else {\n            console.log('File uploaded successfully:', data);\n          }\n          \n        })\n        window.alert(\"done!\")\n        SetUpEditor();\n      }\n    }\n  }\n\n  const DownloadCSVTemplate = (e) => {\n    var text = \"saveas,uploadurl,\" + Object.keys(params).join(\",\")\n    var fileName = \"CSVTemplate.csv\"\n    var myFile = new Blob([text], { type: 'text/plain' })\n    window.URL = window.URL || window.webkitURL;\n    var dlBtn = document.getElementById(\"dlcsv\")\n    dlBtn.setAttribute(\"href\", window.URL.createObjectURL(myFile));\n    dlBtn.setAttribute(\"download\", fileName);\n    dlBtn.click()\n  }\n\n  function MakeHTMLTemplate() {\n    let textElements=editableRef.current.text;\n    let links = editableRef.current.link;\n    let images = editableRef.current.img;\n\n    console.log(editableRef.current)\n\n    if (currentHighlight !== null) HighlightParam(currentHighlight)\n    textElements.forEach(lmnt => {\n      lmnt.removeAttribute(\"contenteditable\");\n      console.log(lmnt)\n    })\n    links.forEach(lmnt => {\n      lmnt.ondblclick = null\n      lmnt.onclick = null;\n    })\n    images.forEach(img => {\n      img.onclick = null;\n    })\n    var fileName = \"myfile.html\";\n    var fileContent = \"<!DOCTYPE html><html>\" + document.getElementById(\"renderer\").innerHTML + \"</html>\";\n    var myFile = new Blob([fileContent], { type: 'text/plain' });\n\n    window.URL = window.URL || window.webkitURL;\n    SetUpEditor()\n\n    return {\"file\": myFile, \"filedata\":fileContent};\n\n  }\n\n  const DownloadHTMLTemplate = (e) => {\n    var shit = MakeHTMLTemplate();\n    var myFile = shit.file\n    console.log(shit.filedata)\n    var dlBtn = document.getElementById(\"dlhtml\");\n\n    dlBtn.setAttribute(\"href\", window.URL.createObjectURL(myFile));\n    dlBtn.setAttribute(\"download\", \"HTMLTemplate.html\");\n    dlBtn.click();\n\n  }\n\n  return (\n    <div className='App'>\n      <div className=\"sidenav\" id='sidebar'>\n        <label>HTML Upload<input type=\"file\" onChange={LoadHTML}></input></label>\n        <label>CSV Upload<input type=\"file\" id='csv'></input></label>\n        <button onClick={HostFiles}>Generate and Host</button>\n        <ParamList params={params} Rename={RenameParam} HighlightParam={HighlightParam}></ParamList>\n        <br />\n        <div id=\"downloads\">\n          <button id=\"generate\" onClick={DownloadHTMLTemplate}>Download HTML Template</button>\n          <a id=\"dlhtml\" style={{ \"display\": \"none\" }}></a>\n          <button id=\"csvgen\" onClick={DownloadCSVTemplate}>Download CSV Template</button>\n          <a id=\"dlcsv\" style={{ \"display\": \"none\" }}></a>\n        </div>\n      </div>\n      <div id=\"renderer\" className='main' dangerouslySetInnerHTML={{ __html: htmlContent }}></div>\n\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}